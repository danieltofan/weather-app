(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&f.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/weather-app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var r=a("85ec"),n=a.n(r);n.a},"2b47":function(e,t,a){"use strict";var r=a("9936"),n=a.n(r);n.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[a("b-navbar",{attrs:{fixed:"top",toggleable:"sm",type:"dark"}},[a("b-navbar-brand",{staticClass:"p-1"},[a("i",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"wi wi-day-lightning",attrs:{title:"WeatherApp by Daniel Tofan"}})]),a("transition",{attrs:{name:"fade",mode:"in-out"}},[a("b-button",{directives:[{name:"show",rawName:"v-show",value:e.isLoggedIn(),expression:"isLoggedIn()"}],staticClass:"ml-auto",attrs:{id:"logout",variant:"danger",size:"sm"},on:{click:e.logout}},[e._v("Log Out")])],1)],1),a("div",{attrs:{id:"app"}},[a("div",{staticClass:"p-5"},[a("i",{staticClass:"wi wi-day-lightning wi-lg"})]),a("transition",{attrs:{name:"fade",mode:"out-in"}},[a("router-view")],1)],1)],1)},o=[],i=(a("ac1f"),a("5319"),a("8aa5")),s=a.n(i),c={name:"App",methods:{logout:function(){var e=this;s.a.auth().signOut().then((function(){console.log("you are logged out"),e.$router.replace("login")}))},isLoggedIn:function(){return s.a.auth().currentUser}}},u=c,l=(a("034f"),a("2877")),d=Object(l["a"])(u,n,o,!1,null,null,null),f=d.exports,p=a("9483");Object(p["a"])("".concat("/weather-app/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});a("45fc");var m=a("8c4f"),h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{staticClass:"text-warning mb-4"},[a("h4",[e._v(e._s(e.currentUser().displayName)+", "+e._s(e.msg))])]),e.myWeather&&e.weatherNy?a("div",[a("b-card-group",{staticClass:"mb-4",attrs:{deck:""}},[a("b-card",{staticClass:"text-center",attrs:{"border-variant":"success","text-variant":"white",header:e.getMyHeader,"header-tag":"h5","header-text-variant":"primary","header-bg-variant":"success","no-body":""}},[a("keep-alive",[a("weather-table",{attrs:{weather:e.myWeather}})],1),a("b-card-body",{staticClass:"p-1 pt-2"},[e.myWeather.dt?a("small",{staticClass:"text-success"},[e._v("Last checked: "+e._s(e._f("moment")(e.myWeather.dt,"from")))]):e._e()])],1),a("b-card",{staticClass:"text-center",attrs:{"border-variant":"info","text-variant":"white",header:e.getNyHeader,"header-tag":"h5","header-bg-variant":"info","header-text-variant":"primary","no-body":""}},[a("keep-alive",[a("weather-table",{attrs:{weather:e.weatherNy}})],1),a("b-card-body",{staticClass:"p-1 pt-2"},[e.weatherNy.dt?a("small",{staticClass:"text-info"},[e._v("Last checked: "+e._s(e._f("moment")(e.myWeather.dt,"from")))]):e._e()])],1)],1),a("div"),e._m(0)],1):e._e()])},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("small",[e._v("Weather provided by: "),a("a",{staticClass:"text-warning",attrs:{href:"https://openweathermap.org/current",target:"_blank"}},[e._v("openweathermap.org")])])}],g=(a("99af"),a("b0c0"),a("b680"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.weather.weather?a("b-list-group",{attrs:{flush:""}},[a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center pt-0 pb-0",attrs:{variant:""}},[a("span",[e._v("Sky conditions:")]),a("img",{attrs:{src:e.getIconSrc(e.weather.weather[0].icon)}}),a("span",[e._v(e._s(e._f("capitalize")(e.weather.weather[0].description)))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:"primary"}},[a("span",[e._v("Temperature:")]),a("span",[e._v(e._s(e._f("temperature")(e.weather.main.temp)))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:""}},[a("span",[e._v("Pressure:")]),a("span",[e._v(e._s(e.weather.main.pressure)+" hPa")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:"primary"}},[a("span",[e._v("Humidity:")]),a("span",[e._v(e._s(e.weather.main.humidity)+"%")])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:""}},[a("span",[e._v("Visibility:")]),a("span",[e._v(e._s(e._f("miles")(e.weather.visibility)))])]),a("b-list-group-item",{staticClass:"d-flex justify-content-between align-items-center",attrs:{variant:"primary"}},[a("span",[e._v("Wind:")]),a("span",{staticClass:"wi-md",domProps:{innerHTML:e._s(e.getWindIcon(e.weather.wind.deg))}}),a("span",[e._v(e._s(e.weather.wind.speed)+"mps")])])],1):e._e()],1)}),v=[],w=(a("fb6a"),a("d3b7"),a("25f0"),{name:"WeatherTable",props:["weather"],filters:{capitalize:function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""},temperature:function(e){if(!e)return"";var t=e-273.15,a=9*t/5+32;return t=t.toFixed(0),a=a.toFixed(0),"".concat(a,"°F (").concat(t,"°C)")},wind:function(e){return e=e||0,'<i class="wi wi-wind from-'.concat(e,'-deg"></i>')},miles:function(e){if(!e)return"";var t=(e/1609).toFixed(1);return"".concat(t," miles")}},methods:{getIconSrc:function(e){var t="https://openweathermap.org/img/w/".concat(e,".png");return t},getWindIcon:function(e){e=e||0,e=e.toFixed(0);var t='<i class="wi wi-wind from-'.concat(e,'-deg"></i>');return t}}}),y=w,_=(a("5859"),Object(l["a"])(y,g,v,!1,null,"55d82294",null)),x=_.exports;r["default"].use(a("2ead"));var C={name:"Home",components:{WeatherTable:x},data:function(){return{msg:"welcome to your Weather App",loading:!0,coordinates:{},weatherNy:{},myWeather:{}}},methods:{currentUser:function(){return s.a.auth().currentUser},getWeatherForLocation:function(){var e=this;console.log("Getting weather info"),this.$getLocation().then((function(t){e.coordinates=t})).then((function(){var t="".concat("https://api.openweathermap.org/data/2.5/weather","?id=").concat("420027061","&appid=").concat("1186f33621fa088e4bc9bb524a24b0fa");r["default"].axios.get(t).then((function(t){e.weatherNy=t.data}))})).then((function(){var t="".concat("https://api.openweathermap.org/data/2.5/weather","?lat=").concat(e.coordinates.lat.toFixed(2),"&lon=").concat(e.coordinates.lng.toFixed(2),"&appid=").concat("1186f33621fa088e4bc9bb524a24b0fa");r["default"].axios.get(t).then((function(t){e.myWeather=t.data,e.loading=!1}))}))}},computed:{getMyHeader:function(){return this.loading||!this.myWeather?"Getting your data...":this.myWeather.name+" weather"},getNyHeader:function(){return this.loading||!this.weatherNy?"Getting your data...":this.weatherNy.name+" weather"}},created:function(){this.getWeatherForLocation()}},k=C,I=(a("9e90"),Object(l["a"])(k,h,b,!1,null,"09f7ecf2",null)),j=I.exports,W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",[e.show?a("b-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[a("b-form-group",{staticClass:"col",attrs:{breakpoint:"lg",id:"emailInputGroup"}},[a("b-form-input",{attrs:{id:"emailInput",type:"email",required:"",placeholder:"Enter email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("b-form-group",{staticClass:"col",attrs:{id:"pwInputGroup"}},[a("b-form-input",{attrs:{id:"pwInput",type:"password",required:"",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("b-button",{staticClass:"px-5",attrs:{type:"submit",variant:"success",disabled:e.submitted}},[e._v("Login")]),a("div",{staticClass:"mt-3"},[e._v(" No account? "),a("router-link",{staticClass:"text-danger",attrs:{to:"/register"}},[e._v("Register here")])],1)],1):e._e()],1)},$=[],N={name:"Login",data:function(){return{form:{email:"",password:""},show:!0,submitted:!1}},methods:{login:function(){var e=this;this.submitted=!0,s.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then((function(t){console.log("You are logged in as ".concat(t.user.displayName)),e.$router.replace("home")}),(function(t){console.log(t),e.submitted=!1,e.$toaster.error(t.message)}))},onReset:function(e){var t=this;this.form.email="",this.form.password="",this.form.name="",this.show=!1,this.$nextTick((function(){t.show=!0}))}}},O=N,P=(a("2b47"),Object(l["a"])(O,W,$,!1,null,"6a534734",null)),A=P.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("b-form",{on:{submit:function(t){return t.preventDefault(),e.register(t)},reset:e.onReset}},[a("b-form-group",{attrs:{id:"emailInputGroup",label:"Email address:","label-for":"emailInput",description:"Your email won't be shared with anyone else.",horizontal:""}},[a("b-form-input",{attrs:{id:"emailInput",type:"email",required:"",placeholder:"Enter email"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}},[a("b-form-invalid-feedback")],1)],1),a("b-form-group",{attrs:{id:"pwInputGroup",label:"Password:","label-for":"pwInput",description:"Password should be at least 6 characters",horizontal:""}},[a("b-form-input",{attrs:{id:"pwInput",type:"password",required:"",placeholder:"Password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("b-form-group",{attrs:{id:"nameInputGroup",label:"Your Name:","label-for":"nameInput",horizontal:""}},[a("b-form-input",{attrs:{id:"nameInput",type:"text",required:"",placeholder:"First and last name"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("b-button",{staticClass:"px-3",attrs:{type:"submit",variant:"success",disabled:e.submitted}},[e._v("Register")]),a("b-button",{staticClass:"px-4",attrs:{type:"reset",variant:"warning",disabled:e.submitted}},[e._v("Reset")]),a("div",{staticClass:"mt-3"},[e._v(" Already have an account? "),a("router-link",{staticClass:"text-info",attrs:{to:"/login"}},[e._v("Log In")])],1)],1):e._e()},S=[],E={name:"Register",data:function(){return{form:{email:"",password:"",name:""},show:!0,submitted:!1}},methods:{register:function(){var e=this;this.submitted=!0,s.a.auth().createUserWithEmailAndPassword(this.form.email,this.form.password).then((function(t){return t.user.updateProfile({displayName:e.form.name})})).then((function(t){e.$router.replace("home")}),(function(t){console.log(t),e.submitted=!1,e.$toaster.error(t.message)}))},onReset:function(e){var t=this;e.preventDefault(),console.log("resetting form"),this.form.email="",this.form.name="",this.form.password="",this.show=!1,this.$nextTick((function(){t.show=!0}))}}},F=E,R=(a("ca39"),Object(l["a"])(F,L,S,!1,null,"f6b24150",null)),T=R.exports;r["default"].use(m["a"]);var H=new m["a"]({routes:[{path:"*",redirect:"/login"},{path:"/home",name:"Home",component:j,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:A},{path:"/register",name:"Register",component:T}]});H.beforeEach((function(e,t,a){var r=s.a.auth().currentUser,n=e.matched.some((function(e){return e.meta.requiresAuth}));n&&!r?a("Login"):!n&&r?a("Home"):a()}));var q=H,z=a("2f62");r["default"].use(z["a"]);var G,U=new z["a"].Store({state:{},mutations:{},actions:{},modules:{}}),D=a("5f5b"),M=a("ebfd"),Y=a.n(M),B=a("bc3a"),J=a.n(B),K=a("a7fe"),V=a.n(K),Q=a("ee01"),X=a.n(Q);a("f9e3"),a("2dd8"),a("0a8d"),a("e889"),a("9ca2"),a("690a"),a("8320"),a("6e76"),a("c0ad"),a("7a36"),a("26ca");r["default"].config.productionTip=!1,r["default"].use(D["a"]),r["default"].use(Y.a),r["default"].use(V.a,J.a),r["default"].use(X.a,{timeout:4e3});var Z={apiKey:"AIzaSyAY6yw84HasTRSsje6ugxEc-RhP5_De070",authDomain:"weather-app-e8911.firebaseapp.com",databaseURL:"https://weather-app-e8911.firebaseio.com",projectId:"weather-app-e8911",storageBucket:"",messagingSenderId:"324796955991"};s.a.initializeApp(Z),s.a.auth().onAuthStateChanged((function(e){G||(G=new r["default"]({router:q,store:U,render:function(e){return e(f)}}).$mount("#app"))}))},"582f":function(e,t,a){},5859:function(e,t,a){"use strict";var r=a("582f"),n=a.n(r);n.a},"6be9":function(e,t,a){},"85ec":function(e,t,a){},9936:function(e,t,a){},"9ca2":function(e,t,a){},"9e90":function(e,t,a){"use strict";var r=a("6be9"),n=a.n(r);n.a},c1ef:function(e,t,a){},ca39:function(e,t,a){"use strict";var r=a("c1ef"),n=a.n(r);n.a}});
//# sourceMappingURL=app.c94b0358.js.map